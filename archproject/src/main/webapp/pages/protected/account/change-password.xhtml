<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<div class="ui-fluid">
		<h:form>
			<p:panelGrid 
					id="changePasswordPanel" 
					layout="grid" 
					columns="2"
					styleClass="ui-panelgrid-blank">
	
				<p:outputLabel value="Current Password" />
				<p:outputPanel>
					<p:password id="currentPassword" 
						styleClass="bg-register-input"/>
					<p:message for="currentPassword" display="text" />
				</p:outputPanel>
	
				<p:outputLabel value="New Password" />
				<p:outputPanel>
					<p:password id="newPassword" match="confirmNewPassword"
						validatorMessage="New passwords must match"
						styleClass="bg-register-input" feedback="true" />
					<p:message for="newPassword" display="text" />
				</p:outputPanel>
	
				<p:outputLabel value="Confirm New Password" />
				<p:outputPanel>
					<p:password id="confirmNewPassword"
						value="#{userMb.authentication.password.value}"
						styleClass="bg-register-input" />
					<p:message for="confirmNewPassword" display="text" />
				</p:outputPanel>
			
				<p:spacer height="0" styleClass="bg-disposible-680"/>
				<p:commandButton value="Change Password"
					action="#{userMb.changePassword(userMb.authentication)}" 
					update="changePasswordPanel"
					icon="ui-icon-check" />
			</p:panelGrid>
		</h:form>
	</div>

</ui:composition>